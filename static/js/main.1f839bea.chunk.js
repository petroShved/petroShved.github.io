(this.webpackJsonprplanet=this.webpackJsonprplanet||[]).push([[0],{138:function(e,t,a){},139:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(13),c=a.n(i),o=(a(138),a(6)),s=(a(139),a(61)),l=a.n(s),d=a(57),u=a(26),h=a(16),p=a(105),f=a(106),b=a(58),j=a.n(b),m=a(107),v=a(15),w=[{field:"id",headerName:"ID",width:70},{field:"collectionId",headerName:"Collection Id",width:200},{field:"collection",headerName:"collection",width:200},{field:"rarity",headerName:"Rarity",width:200},{field:"rarityId",headerName:"Rarity ID",width:200},{field:"schema",headerName:"Schema",width:200},{field:"value",headerName:"Value",width:200},{field:"realValue",headerName:"RealValue",width:200},{field:"wax",headerName:"Wax",width:200},{field:"saleId",headerName:"SaleId",renderCell:function(e){return Object(v.jsx)("a",{href:"https://wax.atomichub.io/market/sale/".concat(e.value),target:"_blank",children:e.value})},width:250},{field:"profit",headerName:"AE/WAX",width:250,type:"number"}],O=function(e){var t=e.repos,a=e.pools;if(!t||0===t.length)return Object(v.jsx)("p",{children:"No repos, sorry"});var n=0,i=[];a&&t.forEach((function(e){Array.isArray(e.rarities)&&e.rarities.length>0&&e.rarities.forEach((function(t){n+=1;var r=a.find((function(t){return t.id===e.collection}));r&&i.push({id:n,collectionId:e.id,collection:e.collection,rarity:t.rarity,schema:e.schema,rarityId:e.rarity_id,value:+t.one_asset_value/1e4,realValue:1*+t.one_asset_value*(+r.fraction.split(" AETHER")[0]/r.staked),wax:0,saleId:0,profit:0})}))}));var c=Object(r.useRef)(i),s=Object(r.useRef)(0),b=Object(r.useState)(c.current),O=Object(o.a)(b,2),x=O[0],g=O[1],y=Object(r.useState)(s.current),_=Object(o.a)(y,2),k=_[0],N=_[1];return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(p.a)(i),e.prev=1,r=l.a.mark((function e(){var t,r,n,i,o,p,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.value,n=Object(h.a)(c.current),i=n.find((function(e){return e.id===r.id})),t={state:"1",limit:"1",page:"1",order:"asc",sort:"price",symbol:"WAX",collection_name:i.collection},Object(u.a)(t,"data:text.".concat(r.rarityId),i.rarity),Object(u.a)(t,"schema_name",i.schema),Object(u.a)(t,"show_seller_contracts","false"),o=t,p=void 0,f=!1,e.prev=6,e.next=9,j.a.post("https://wax.api.atomicassets.io/atomicmarket/v1/sales",o);case 9:p=e.sent,s.current+=1,N(s.current+1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),f=!0,console.log("error while load price");case 18:return f||(n=n.map((function(e){if(r.id===e.id){var t=p.data.data&&p.data.data.length?+p.data.data[0].price.amount/1e8:0,a=p.data.data&&p.data.data.length?p.data.data[0].sale_id:0,n=t/i.realValue;return Object(d.a)(Object(d.a)({},e),{},{wax:t,saleId:a,profit:n})}return e})),c.current=Object(h.a)(n),g(Object(h.a)(n))),e.next=21,new Promise((function(e,t){setTimeout(e,2e3)}));case 21:case"end":return e.stop()}}),e,null,[[6,14]])})),t.s();case 4:if((a=t.n()).done){e.next=8;break}return e.delegateYield(r(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),t.e(e.t1);case 13:return e.prev=13,t.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(x),Object(v.jsxs)("div",{children:[k," / ",i.length,Object(v.jsx)("div",{style:{height:"100vh",width:"100%"},children:Object(v.jsx)(m.a,{rows:x,columns:w,pageSize:100})})]})},x=a(111),g=["isLoading"];var y=function(e){return function(t){var a=t.isLoading,r=Object(x.a)(t,g);return a?Object(v.jsx)("p",{style:{textAlign:"center",fontSize:"30px"},children:"Hold on, fetching data may take some time :)"}):Object(v.jsx)(e,Object(d.a)({},r))}};var _=function(){var e=y(O),t=Object(r.useState)({loading:!1,repos:null,pools:null}),a=Object(o.a)(t,2),n=a[0],i=a[1];return Object(r.useEffect)((function(){i({loading:!0});j.a.post("https://chain.wax.io/v1/chain/get_table_rows",{code:"s.rplanet",index_position:1,json:!0,key_type:"i64",limit:1e3,lower_bound:"",reverse:!1,scope:"s.rplanet",show_payer:!1,table:"collections",upper_bound:""}).then((function(e){j.a.post("https://chain.wax.io/v1/chain/get_table_rows",{code:"s.rplanet",index_position:1,json:!0,key_type:"i64",limit:1e3,lower_bound:"",reverse:!1,scope:"s.rplanet",show_payer:!1,table:"pools",upper_bound:""}).then((function(t){return i({loading:!1,repos:e.data.rows,pools:t.data.rows})}))}))}),[i]),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("div",{className:"repo-container",children:Object(v.jsx)(e,{isLoading:n.loading,repos:n.repos,pools:n.pools})}),Object(v.jsx)("footer",{children:Object(v.jsxs)("div",{className:"footer",children:["Built"," ",Object(v.jsx)("span",{role:"img","aria-label":"love",children:"\ud83d\udc9a"})," "]})})]})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,213)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))};c.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root")),k()}},[[163,1,2]]]);
//# sourceMappingURL=main.1f839bea.chunk.js.map